!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(e){return e.charAt(0).toUpperCase()+e.slice(1)}function t(e){try{return JSON.parse(e)}catch(e){}return e}function r({prefix:e,scope:t,views:r}){Object.keys(r).forEach((n=>{const i=`data-${e}-${a=n,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`;var a;let s=Array.prototype.slice.call(t.querySelectorAll(`[${i}]`));t.hasAttribute(i)&&(s=[t].concat(s)),s.forEach((t=>{o(t,e,r,n)}))}))}function o(r,o,n,i){if(r._defoUpdate&&r._defoUpdate[i])return;const a=n[i],s=function(t,r){return`${o=t,o.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase()))}${e(r)}`;var o}(o,i);if(!a||!(s in r.dataset))return;const c=a(r,t(r.dataset[s]));r._defoUpdate=r._defoUpdate||{},r._defoDestroy=r._defoDestroy||{},r._defoUpdate[i]=function(e){return function(r,o){r=r?t(r):r,o=o?t(o):o,Promise.resolve(e).then((e=>{e.update&&e.update(r,o)}))}}(c),r._defoDestroy[i]=function(e,t,r){return function(){Promise.resolve(e).then((e=>{e.destroy&&(e.destroy(),delete t._defoUpdate[r],delete t._defoDestroy[r])}))}}(c,r,i)}function n({prefix:t,scope:n,views:i}){const a=new MutationObserver((n=>{n.forEach((n=>{const a=n.target;if("attributes"===n.type&&function(e,t){return 0===e.indexOf(`data-${t}-`)}(n.attributeName,t)){const r=n.attributeName.split("-").slice(2).map(((t,r)=>r>0?e(t):t)).join("");a.hasAttribute(n.attributeName)?null!==n.oldValue?a._defoUpdate[r](a.getAttribute(n.attributeName),n.oldValue):o(a,t,i,r):a._defoDestroy[r]()}else"childList"===n.type&&(Array.prototype.slice.call(n.removedNodes).filter((e=>e.nodeType===e.ELEMENT_NODE)).filter((e=>function(e,t){return function(e,t){return Object.keys(e.dataset).filter((e=>0===e.indexOf(t)))}(e,t).length>0}(e,t))).forEach((e=>{Object.keys(e._defoDestroy).forEach((t=>{e._defoDestroy[t]()}))})),Array.prototype.slice.call(n.addedNodes).filter((e=>e.nodeType===e.ELEMENT_NODE)).forEach((e=>{Promise.resolve(e).then((e=>{r({prefix:t,scope:e,views:i})}))})))}))}));return a.observe(n,{attributes:!0,attributeOldValue:!0,childList:!0,characterData:!1,subtree:!0}),r({prefix:t,scope:n,views:i}),a}const i=()=>{};let a;const s={characterData:!0,subtree:!0};!function({prefix:e="defo",scope:t=document.documentElement,views:r={}}={}){const o=n({prefix:e,scope:t,views:r})}({prefix:"es",views:{dynamicSelectInput:function(e,t){const r=document.getElementById(t.sizerId);return r&&((e,t,r)=>{const o=e.getBoundingClientRect().width;return a=new MutationObserver(((e,t,r,o)=>()=>{const n=e.getBoundingClientRect().width-r,i=n<o.defaultInputWidth?o.defaultInputWidth:n+o.defaultInputWidth;t.style.width=`${i.toString()}px`})(e,t,o,r)),a})(r,e,t).observe(r,s),{destroy:i,update:i}}}})}));
