function e(e){return e.charAt(0).toUpperCase()+e.slice(1)}function t(e){try{return JSON.parse(e)}catch(e){}return e}function r({prefix:e,scope:t,views:r}){Object.keys(r).forEach((n=>{const a=`data-${e}-${i=n,i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`;var i;let s=Array.prototype.slice.call(t.querySelectorAll(`[${a}]`));t.hasAttribute(a)&&(s=[t].concat(s)),s.forEach((t=>{o(t,e,r,n)}))}))}function o(r,o,n,a){if(r._defoUpdate&&r._defoUpdate[a])return;const i=n[a],s=function(t,r){return`${o=t,o.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase()))}${e(r)}`;var o}(o,a);if(!i||!(s in r.dataset))return;const c=i(r,t(r.dataset[s]));r._defoUpdate=r._defoUpdate||{},r._defoDestroy=r._defoDestroy||{},r._defoUpdate[a]=function(e){return function(r,o){r=r?t(r):r,o=o?t(o):o,Promise.resolve(e).then((e=>{e.update&&e.update(r,o)}))}}(c),r._defoDestroy[a]=function(e,t,r){return function(){Promise.resolve(e).then((e=>{e.destroy&&(e.destroy(),delete t._defoUpdate[r],delete t._defoDestroy[r])}))}}(c,r,a)}function n({prefix:t,scope:n,views:a}){const i=new MutationObserver((n=>{n.forEach((n=>{const i=n.target;if("attributes"===n.type&&function(e,t){return 0===e.indexOf(`data-${t}-`)}(n.attributeName,t)){const r=n.attributeName.split("-").slice(2).map(((t,r)=>r>0?e(t):t)).join("");i.hasAttribute(n.attributeName)?null!==n.oldValue?i._defoUpdate[r](i.getAttribute(n.attributeName),n.oldValue):o(i,t,a,r):i._defoDestroy[r]()}else"childList"===n.type&&(Array.prototype.slice.call(n.removedNodes).filter((e=>e.nodeType===e.ELEMENT_NODE)).filter((e=>function(e,t){return function(e,t){return Object.keys(e.dataset).filter((e=>0===e.indexOf(t)))}(e,t).length>0}(e,t))).forEach((e=>{Object.keys(e._defoDestroy).forEach((t=>{e._defoDestroy[t]()}))})),Array.prototype.slice.call(n.addedNodes).filter((e=>e.nodeType===e.ELEMENT_NODE)).forEach((e=>{Promise.resolve(e).then((e=>{r({prefix:t,scope:e,views:a})}))})))}))}));return i.observe(n,{attributes:!0,attributeOldValue:!0,childList:!0,characterData:!1,subtree:!0}),r({prefix:t,scope:n,views:a}),i}const a=()=>{};let i;const s={characterData:!0,subtree:!0};!function({prefix:e="defo",scope:t=document.documentElement,views:r={}}={}){const o=n({prefix:e,scope:t,views:r})}({prefix:"es",views:{dynamicSelectInput:function(e,t){const r=document.getElementById(t.sizerId);return r&&((e,t,r)=>{const o=e.getBoundingClientRect().width;return i=new MutationObserver(((e,t,r,o)=>()=>{const n=e.getBoundingClientRect().width-r,a=n<o.defaultInputWidth?o.defaultInputWidth:n+o.defaultInputWidth;t.style.width=`${a.toString()}px`})(e,t,o,r)),i})(r,e,t).observe(r,s),{destroy:a,update:a}}}});
